<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<title>–ü–æ–¥—ñ—ó ‚Äî –±—ñ–ª–µ—Ç–Ω–∏–π –≤—ñ–¥–¥—ñ–ª</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="stylesheet" href="../styles.css">

<style>
.page-wrap{
  padding:16px;
  max-width:100%;
}
.top-row{
  display:flex;
  gap:12px;
  align-items:center;
  flex-wrap:wrap;
  margin-bottom:12px;
}
select,button{
  padding:8px 12px;
  border-radius:8px;
  border:1px solid #d1d5db;
  font-size:14px;
}
.btn{
  border:none;
  border-radius:10px;
  font-weight:700;
  cursor:pointer;
}
.btn-primary{background:#111827;color:#fff}
.btn-ghost{background:#f3f4f6}
.badge{
  padding:4px 10px;
  border-radius:999px;
  font-size:12px;
  background:#e5e7eb;
}

.layout{
  display:flex;
  gap:12px;
}
.hall-wrap{
  flex:1 1 auto;
  min-width:0;
}
.sidebar{
  width:360px;
  flex:0 0 360px;
  background:#fff;
  border-radius:14px;
  padding:14px;
  box-shadow:0 4px 14px rgba(0,0,0,.06);
}

iframe{
  width:100%;
  height:calc(100vh - 180px);
  border:1px solid #e5e7eb;
  border-radius:14px;
  background:#f9fafb;
}

.action-btn{
  width:100%;
  padding:14px;
  border-radius:12px;
  border:none;
  font-size:15px;
  font-weight:800;
  cursor:pointer;
}
.sell{background:#bbf7d0}
.reserve{background:#fed7aa}
.print{background:#e5e7eb}

.meta{
  font-size:13px;
  color:#374151;
  margin-bottom:8px;
}
.sep{
  height:1px;
  background:#e5e7eb;
  margin:12px 0;
}

@media(max-width:900px){
  .layout{flex-direction:column}
  .sidebar{width:auto}
  iframe{height:60vh}
}
</style>
</head>

<body>

<div id="admin-header"></div>

<main class="page-wrap">

  <h1>üéü –ü–æ–¥—ñ—ó</h1>

  <!-- Top controls -->
  <div class="top-row">
    <label>
      –ê–∫—Ç–∏–≤–Ω–∏–π —Å–µ–∞–Ω—Å
      <select id="seanceSelect">
        <option value="">‚Äî –æ–±—Ä–∞—Ç–∏ ‚Äî</option>
      </select>
    </label>

    <span class="badge" id="seanceStatus">–Ω–µ –æ–±—Ä–∞–Ω–æ</span>

    <button class="btn btn-primary" id="btnOpenHall">
      –í—ñ–¥–∫—Ä–∏—Ç–∏ –∑–∞–ª
    </button>
  </div>

  <div class="layout">

    <!-- HALL -->
    <div class="hall-wrap">
      <iframe
        id="hallFrame"
        src=""
        allow="fullscreen"
      ></iframe>
    </div>

    <!-- SIDEBAR -->
    <aside class="sidebar">
      <h3>–ü—Ä–æ–¥–∞–∂—ñ / –¥—ñ—ó</h3>

      <div class="meta" id="metaInfo">
        –°–µ–∞–Ω—Å: ‚Äî
      </div>

      <button class="action-btn sell" id="btnSell" disabled>
        –ü–†–û–î–ê–¢–ò (–±–µ–∑–Ω–∞–ª)
      </button>

      <button class="action-btn reserve" id="btnReserve" disabled>
        –£ –†–ï–ó–ï–†–í
      </button>

      <button class="action-btn print" id="btnPrint" disabled>
        –î–†–£–ö –ü–ê–ß–ö–û–Æ
      </button>

      <div class="sep"></div>

      <div class="meta">
        –ñ—É—Ä–Ω–∞–ª –ø–æ–¥—ñ–π —Å–µ–∞–Ω—Å—É
      </div>

      <div style="font-size:12px;color:#6b7280">
        (—Ç—É—Ç –±—É–¥–µ –ª–æ–≥ –æ–ø–µ—Ä–∞—Ü—ñ–π)
      </div>
    </aside>

  </div>
</main>

<script>
/* ===== HEADER ===== */
fetch("../index.html")
  .then(r=>r.text())
  .then(html=>{
    document.getElementById("admin-header").innerHTML = html;
  });

/* ===== MOCK DATA (–ø–æ–∫–∞) ===== */
const seances = [
  { id:"koncert-2026-02-10-19-00", title:"–ö–æ–Ω—Ü–µ—Ä—Ç ‚Ä¢ 10.02 19:00" },
  { id:"vistava-2026-02-11-18-00", title:"–í–∏—Å—Ç–∞–≤–∞ ‚Ä¢ 11.02 18:00" }
];

const select = document.getElementById("seanceSelect");
const frame  = document.getElementById("hallFrame");
const status = document.getElementById("seanceStatus");
const meta   = document.getElementById("metaInfo");

seances.forEach(s=>{
  const o = document.createElement("option");
  o.value = s.id;
  o.textContent = s.title;
  select.appendChild(o);
});

document.getElementById("btnOpenHall").onclick = ()=>{
  const id = select.value;
  if(!id) return alert("–û–±–µ—Ä—ñ—Ç—å —Å–µ–∞–Ω—Å");

  status.textContent = "–∞–∫—Ç–∏–≤–Ω–∏–π";
  meta.textContent = "–°–µ–∞–Ω—Å: " + id;

  frame.src = `../../hall.html?seance=${id}&embed=1`;

  document.getElementById("btnSell").disabled = false;
  document.getElementById("btnReserve").disabled = false;
  document.getElementById("btnPrint").disabled = false;
};

/* –ó–∞–≥–ª—É—à–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π */
btnSell.onclick    = ()=>alert("–ü—Ä–æ–¥–∞–∂ (–±–µ–∑–Ω–∞–ª) ‚Äî –ª–æ–≥—ñ–∫–∞ —Ç—É—Ç");
btnReserve.onclick = ()=>alert("–†–µ–∑–µ—Ä–≤ ‚Äî –ª–æ–≥—ñ–∫–∞ —Ç—É—Ç");
btnPrint.onclick   = ()=>alert("–î—Ä—É–∫ –ø–∞—á–∫–æ—é ‚Äî –ª–æ–≥—ñ–∫–∞ —Ç—É—Ç");
</script>

</body>
</html>
